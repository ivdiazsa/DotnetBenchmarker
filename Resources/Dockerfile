# This Dockerfile is used to create a dotnet sdk container, which will apply
# crossgen2 and build the composite images for Linux.

ARG CONTAINER_DOTNET_VERSION=7.0

FROM mcr.microsoft.com/dotnet/sdk:${CONTAINER_DOTNET_VERSION}

ARG ASPNET_COMPOSITE_ARG=false
ARG BUNDLE_ASPNET_ARG=false
ARG COMPOSITES_TYPE_ARG=0
ARG DOTNET_VERSION_NUMBER_ARG=7.0
ARG FRAMEWORK_COMPOSITE_ARG=false
ARG PARTIAL_COMPOSITES_ARG=0
ARG USE_AVX2_ARG=false

ENV ASPNET_COMPOSITE=$ASPNET_COMPOSITE_ARG
ENV BUNDLE_ASPNET=$BUNDLE_ASPNET_ARG
ENV COMPOSITES_TYPE=$COMPOSITES_TYPE_ARG
ENV DOTNET_VERSION_NUMBER=$DOTNET_VERSION_NUMBER_ARG
ENV FRAMEWORK_COMPOSITE=$FRAMEWORK_COMPOSITE_ARG
ENV PARTIAL_COMPOSITES=$PARTIAL_COMPOSITES_ARG
ENV USE_AVX2=$USE_AVX2_ARG
